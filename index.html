<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Curricular Mercadeo</title>

<style>
body{
  font-family:'Poppins',sans-serif;
  background:linear-gradient(180deg,#ffe6f2,#fff);
  color:#5a2a3c;
  padding:20px;
}
h1{text-align:center;color:#d63384;}
h2{color:#c2185b;margin-bottom:10px}
.semestre{
  background:#fff0f7;
  border-radius:22px;
  padding:15px;
  margin-bottom:20px;
  box-shadow:0 8px 20px rgba(214,51,132,.18);
}
.materia{
  display:flex;
  justify-content:space-between;
  align-items:center;
  padding:8px 12px;
  margin:6px 0;
  border-radius:14px;
  background:white;
}
.materia.bloqueada{opacity:.4}
input{accent-color:#d63384;transform:scale(1.2)}
progress{width:100%;height:22px;border-radius:20px}
progress::-webkit-progress-bar{background:#ffd6ea}
progress::-webkit-progress-value{
  background:linear-gradient(90deg,#ff9acb,#d63384)
}
.resumen{
  background:#ffe3f1;
  border-radius:20px;
  padding:15px;
  margin-bottom:25px;
  box-shadow:0 6px 15px rgba(214,51,132,.2)
}
</style>
</head>

<body>

<h1>ðŸ’— Malla Curricular â€“ Mercadeo ðŸ’—</h1>

<div class="resumen">
  <progress id="barra" value="0" max="165"></progress>
  <p id="estado"></p>
</div>

<div id="malla"></div>

<div class="semestre">
<h2>ðŸŒ¸ HumanÃ­sticas, Competencias y Complementarias</h2>
<div class="materia"><label><input type="checkbox" data-cr="2"> FormaciÃ³n HumanÃ­stica â€“ Humanismo</label><span>2</span></div>
<div class="materia"><label><input type="checkbox" data-cr="2"> Cultura artÃ­stica y fÃ­sica</label><span>2</span></div>
<div class="materia"><label><input type="checkbox" data-cr="2"> FormaciÃ³n ciudadana</label><span>2</span></div>
<div class="materia"><label><input type="checkbox" data-cr="2"> ProblemÃ¡ticas de contexto</label><span>2</span></div>
<div class="materia"><label><input type="checkbox" data-cr="1"> Lectura y textos I</label><span>1</span></div>
<div class="materia"><label><input type="checkbox" data-cr="1"> Lectura y textos II</label><span>1</span></div>
<div class="materia"><label><input type="checkbox" data-cr="2"> Herramientas informÃ¡ticas</label><span>2</span></div>
<div class="materia"><label><input type="checkbox" data-cr="4"> Ã‰tica y Compromiso Social</label><span>4</span></div>
<div class="materia"><label><input type="checkbox" data-cr="4"> Electivas de ComplementaciÃ³n</label><span>4</span></div>
</div>

<script>
const TOTAL=165;

const materias=[
["fund","Fundamentos de Mercadeo",3,1],
["psi","PsicologÃ­a del Consumidor",2,1],
["teo","TeorÃ­a de la InvestigaciÃ³n",3,1],
["eco","IntroducciÃ³n a la EconomÃ­a",3,1],
["calc","CÃ¡lculo Diferencial e Integral",3,1],

["comp","Comportamiento del Consumidor",2,2,["psi"]],
["met","MetodologÃ­a de la InvestigaciÃ³n",3,2],
["micro","MicroeconomÃ­a",3,2,["eco"]],
["alg","Ãlgebra y Prog. Lineal",3,2],
["adm","AdministraciÃ³n",2,2],

["leg","LegislaciÃ³n Comercial",3,3],
["prod","Gerencia del Producto",3,3],
["macro","MacroeconomÃ­a",3,3],
["est1","EstadÃ­stica I",3,3],
["cont","Contabilidad de Costos",2,3],
["pi3","PrÃ¡ctica Investigativa",5,3],

["serv","Mercadeo de Servicios",3,4],
["precio","Gerencia de Precio",3,4,["comp"]],
["lab","Laboratorio del Consumidor",3,4],
["col","EconomÃ­a Colombiana",3,4],
["est2","EstadÃ­stica II",3,4,["est1"]],
["pi4","PrÃ¡ctica Investigativa",0,4],

["mix","Mix de ComunicaciÃ³n",3,5,["fund"]],
["emp","Empaques y Embalajes",3,5,["fund"]],
["green","Green Marketing",2,5],
["sim","Sistema de InformaciÃ³n de Mercados",3,5],
["fin","MatemÃ¡tica Financiera",3,5],
["pi5","PrÃ¡ctica Investigativa",0,5],

["promo","Mercadeo Promocional",3,6,["mix"]],
["pub","Publicidad",3,6,["mix"]],
["idea","Empresarismo",2,6],
["elec","Mercadeo ElectrÃ³nico",3,6],
["qual","Inv. Mercados Cualitativa",3,6,["sim"]],
["pi6","PrÃ¡ctica Investigativa",0,6],

["int1","Mercadeo Internacional I",3,7],
["quant","Inv. Mercados Cuantitativa",3,7,["qual"]],
["estr","Mercadeo EstratÃ©gico",3,7],
["proj","FormulaciÃ³n de Proyectos",3,7,["fin"]],
["ep7","Electiva ProfundizaciÃ³n",3,7],

["int2","Mercadeo Internacional II",3,8,["int1"]],
["marca","Gerencia de Marca",3,8,["prod"]],
["ventas","Gerencia de Ventas",3,8,["estr"]],
["semi","Seminario Trabajo de Grado",3,8,["met"]],
["ep8","Electiva ProfundizaciÃ³n",3,8],

["plan","Plan EstratÃ©gico",3,9,["marca","ventas"]],
["intel","Inteligencia de Mercados",3,9],
["dist","DistribuciÃ³n y LogÃ­stica",3,9],
["neg","Negocios Internacionales",3,9],
["ep9","Electiva ProfundizaciÃ³n",3,9],

["prac","PrÃ¡ctica Profesional",11,10]
];

const cont=document.getElementById("malla");
const sem={};

materias.forEach(m=>{
 if(!sem[m[3]]){
  sem[m[3]]=document.createElement("div");
  sem[m[3]].className="semestre";
  sem[m[3]].innerHTML=`<h2>ðŸ’– Semestre ${m[3]}</h2>`;
  cont.appendChild(sem[m[3]]);
 }
 let d=document.createElement("div");
 d.className="materia";
 d.id=m[0];
 d.innerHTML=`<label><input type="checkbox" data-cr="${m[2]}"> ${m[1]}</label><span>${m[2]} cr</span>`;
 sem[m[3]].appendChild(d);
});

function update(){
 let total=0;
 document.querySelectorAll("input").forEach(c=>{
  if(c.checked) total+=+c.dataset.cr;
 });
 document.getElementById("barra").value=total;
 document.getElementById("estado").innerText=
 `Avance: ${Math.round(total/TOTAL*100)}% ðŸ’• | CrÃ©ditos: ${total} / ${TOTAL} | Faltan ${TOTAL-total}`;
 localStorage.setItem("malla",JSON.stringify([...document.querySelectorAll("input")].map(c=>c.checked)));
 desbloquear();
}

function desbloquear(){
 materias.forEach(m=>{
  if(m[4]){
   let ok=m[4].every(r=>document.querySelector(`#${r} input`).checked);
   let box=document.getElementById(m[0]);
   let chk=box.querySelector("input");
   chk.disabled=!ok;
   box.classList.toggle("bloqueada",!ok);
  }
 });
}

const saved=JSON.parse(localStorage.getItem("malla")||"[]");
document.querySelectorAll("input").forEach((c,i)=>{
 if(saved[i]) c.checked=true;
 c.addEventListener("change",update);
});

desbloquear();
update();
</script>

</body>
</html>
