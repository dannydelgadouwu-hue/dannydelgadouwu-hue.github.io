<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Malla Mercadeo</title>
<style>
body{font-family:Arial;background:#fdecef;padding:20px}
h1,h2,h3{text-align:center;color:#b83280}
.card{background:#fff;border-radius:16px;padding:15px;margin-bottom:20px;box-shadow:0 4px 8px rgba(0,0,0,.1)}
.materia{display:flex;justify-content:space-between;padding:6px;border-bottom:1px dashed #f3c2d3}
.aprobada span{text-decoration:line-through}
.bloqueada{opacity:.4}
.progress{background:#f3c2d3;border-radius:20px;overflow:hidden}
.bar{background:#b83280;height:22px;color:#fff;text-align:center;font-size:13px}
.grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:10px}
.grid div{background:#ffe4ef;border-radius:12px;padding:10px;text-align:center}
</style>
</head>
<body>

<h1>üìö Malla Curricular ‚Äì Mercadeo</h1>

<div class="progress"><div id="bar" class="bar">0%</div></div>
<p style="text-align:center"><b><span id="tot">0</span> / 165 cr√©ditos</b></p>

<div class="card">
<h2>üìä Resumen Cr√©ditos Acad√©micos</h2>
<div class="grid">
<div>Programa<br><b><span id="cProg">0</span> / 149</b></div>
<div>Human√≠sticas<br><b><span id="cHum">0</span> / 12</b></div>
<div>√âtica<br><b><span id="cEt">0</span> / 4</b></div>
<div>Total General<br><b><span id="cTot">0</span> / 165</b></div>
</div>
</div>

<div id="malla"></div>

<div class="card">
<h2>üå∏ Human√≠sticas y Competencias</h2>
<div id="hum"></div>
</div>

<div class="card">
<h2>‚öñÔ∏è √âtica y Compromiso Social</h2>
<div class="materia">
<span>√âtica y Compromiso Social (4)</span>
<input type="checkbox" onclick="tog('etica')" id="etica">
</div>
</div>

<script>
const TOTAL=165;

const materias=[
["fm","Fundamentos de Mercadeo",3,1,[]],
["ps","Psicolog√≠a del Consumidor",2,1,[]],
["ti","Teor√≠a de la Investigaci√≥n",3,1,[]],
["ie","Introducci√≥n a la Econom√≠a",3,1,[]],
["cd","C√°lculo Diferencial e Integral",3,1,[]],

["cc","Comportamiento del Consumidor",2,2,["ps"]],
["mi","Metodolog√≠a de la Investigaci√≥n",3,2,[]],
["me","Microeconom√≠a",3,2,["ie"]],
["am","√Ålgebra de Matrices",3,2,[]],
["ad","Administraci√≥n",2,2,[]],

["lc","Legislaci√≥n Comercial",3,3,[]],
["gp","Gerencia del Producto",3,3,[]],
["ma","Macroeconom√≠a",3,3,[]],
["e1","Estad√≠stica I",3,3,[]],
["co","Contabilidad y Costos",2,3,[]],

["ms","Mercadeo de Servicios",3,4,[]],
["gpr","Gerencia de Precio",3,4,["cc"]],
["lab","Laboratorio del Consumidor",3,4,[]],
["eco","Econom√≠a Colombiana",3,4,[]],
["e2","Estad√≠stica II",3,4,["e1"]],

["mix","Mix de Comunicaci√≥n",3,5,["fm"]],
["emp","Empaques y Embalajes",3,5,["fm"]],
["green","Green Marketing",2,5,[]],
["sim","Sistema de Info. de Mercados",3,5,[]],
["mf","Matem√°tica Financiera",3,5,[]],

["mp","Mercadeo Promocional",3,6,["mix"]],
["pub","Publicidad",3,6,["mix"]],
["empn","Empresarismo",2,6,[]],
["melec","Mercadeo Electr√≥nico",3,6,[]],
["ic","Inv. Cualitativa",3,6,["sim"]],

["mi1","Mercadeo Internacional I",3,7,[]],
["icu","Inv. Cuantitativa",3,7,["ic"]],
["mes","Mercadeo Estrat√©gico",3,7,[]],
["fp","Formulaci√≥n de Proyectos",3,7,["mf"]],

["mi2","Mercadeo Internacional II",3,8,["mi1"]],
["gm","Gerencia de Marca",3,8,["gp"]],
["gv","Gerencia de Ventas",3,8,["mes"]],
["stg","Seminario de Grado",3,8,["mi"]],

["pem","Plan Estrat√©gico",3,9,["gm","gv"]],
["im","Inteligencia de Mercados",3,9,[]],
["gdl","Distribuci√≥n y Log√≠stica",3,9,[]],
["ni","Negocios Internacionales",3,9,[]],

["pp","Pr√°ctica Profesional",11,10,["pem"]]
];

const hums=[
["h1","Humanismo",2],
["h2","Cultura art√≠stica y f√≠sica",2],
["h3","Formaci√≥n ciudadana",2],
["h4","Problem√°ticas de contexto",2],
["hp","Historia Pol√≠tica",2],
["epi","Epistemolog√≠a",2]
];

let st=JSON.parse(localStorage.getItem("st"))||{};

function ok(p){return p.every(x=>st[x]);}
function tog(id){st[id]=!st[id];save();}

function save(){localStorage.setItem("st",JSON.stringify(st));draw();}

function draw(){
let m=document.getElementById("malla");m.innerHTML="";
let prog=0,hum=0,et=st.etica?4:0;

for(let s=1;s<=10;s++){
let c=document.createElement("div");c.className="card";c.innerHTML=`<h3>Semestre ${s}</h3>`;
materias.filter(x=>x[3]==s).forEach(x=>{
let d=document.createElement("div");
d.className="materia";
if(!ok(x[4]))d.classList.add("bloqueada");
if(st[x[0]]){d.classList.add("aprobada");prog+=x[2];}
d.innerHTML=`<span>${x[1]} (${x[2]})</span>
<input type="checkbox" ${st[x[0]]?"checked":""} ${ok(x[4])?"":"disabled"} onclick="tog('${x[0]}')">`;
c.appendChild(d);
});
m.appendChild(c);
}

let h=document.getElementById("hum");h.innerHTML="";
hums.forEach(x=>{
if(st[x[0]])hum+=x[2];
h.innerHTML+=`<div class="materia ${st[x[0]]?"aprobada":""}">
<span>${x[1]} (${x[2]})</span>
<input type="checkbox" ${st[x[0]]?"checked":""} onclick="tog('${x[0]}')">
</div>`;
});

let total=prog+hum+et;
let pct=Math.round(total/TOTAL*100);
bar.style.width=pct+"%";bar.textContent=pct+"%";
cProg.textContent=prog;
cHum.textContent=hum;
cEt.textContent=et;
cTot.textContent=total;
tot.textContent=total;
}

draw();
</script>

</body>
</html>
